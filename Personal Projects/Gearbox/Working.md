The red gears are rigidly connected to the input shaft while the yellow gears are loosely coupled to the input shaft via ball bearings.

The green control rods move around sleeves which have a coupler on them. These couplers can couple the yellow gears to the output shaft.

The green control rods are controlled by cylindrical cams driven by the servo motors. The positioning of the cylindrical cams is such that when the servo is rotated by 360 degrees, the gear ratio changes from N to 1 to 2 to 3rd gear.